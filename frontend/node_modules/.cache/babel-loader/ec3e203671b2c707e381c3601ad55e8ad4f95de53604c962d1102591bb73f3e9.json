{"ast":null,"code":"/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport { PortalContext } from \"../../context/portal/portalProvider\";\n/**\n * Portal component.\n *\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n *\n * @see https://blueprintjs.com/docs/#core/components/portal\n */\nexport function Portal(\n// eslint-disable-next-line @typescript-eslint/no-deprecated\n{\n  className,\n  stopPropagationEvents,\n  container,\n  onChildrenMount,\n  children\n}) {\n  var _a;\n  const context = useContext(PortalContext);\n  const portalContainer = (_a = container !== null && container !== void 0 ? container : context.portalContainer) !== null && _a !== void 0 ? _a : typeof document !== \"undefined\" ? document.body : undefined;\n  const [portalElement, setPortalElement] = useState();\n  const createPortalElement = useCallback(() => {\n    const newPortalElement = document.createElement(\"div\");\n    newPortalElement.classList.add(Classes.PORTAL);\n    maybeAddClass(newPortalElement.classList, className); // directly added to this portal element\n    maybeAddClass(newPortalElement.classList, context.portalClassName); // added via PortalProvider context\n    addStopPropagationListeners(newPortalElement, stopPropagationEvents);\n    return newPortalElement;\n  }, [className, context.portalClassName, stopPropagationEvents]);\n  // create the container element & attach it to the DOM\n  useEffect(() => {\n    if (portalContainer == null) {\n      return;\n    }\n    const newPortalElement = createPortalElement();\n    portalContainer.appendChild(newPortalElement);\n    setPortalElement(newPortalElement);\n    return () => {\n      removeStopPropagationListeners(newPortalElement, stopPropagationEvents);\n      newPortalElement.remove();\n      setPortalElement(undefined);\n    };\n  }, [portalContainer, createPortalElement, stopPropagationEvents]);\n  // wait until next successful render to invoke onChildrenMount callback\n  useEffect(() => {\n    if (portalElement != null) {\n      onChildrenMount === null || onChildrenMount === void 0 ? void 0 : onChildrenMount();\n    }\n  }, [portalElement, onChildrenMount]);\n  useEffect(() => {\n    if (portalElement != null) {\n      maybeAddClass(portalElement.classList, className);\n      return () => maybeRemoveClass(portalElement.classList, className);\n    }\n    return undefined;\n  }, [className, portalElement]);\n  useEffect(() => {\n    if (portalElement != null) {\n      addStopPropagationListeners(portalElement, stopPropagationEvents);\n      return () => removeStopPropagationListeners(portalElement, stopPropagationEvents);\n    }\n    return undefined;\n  }, [portalElement, stopPropagationEvents]);\n  // Only render `children` once this component has mounted in a browser environment, so they are\n  // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n  // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n  if (typeof document === \"undefined\" || portalElement == null) {\n    return null;\n  } else {\n    return createPortal(children, portalElement);\n  }\n}\nPortal.displayName = `${DISPLAYNAME_PREFIX}.Portal`;\nfunction maybeRemoveClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.remove(...className.split(\" \"));\n  }\n}\nfunction maybeAddClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.add(...className.split(\" \"));\n  }\n}\nfunction addStopPropagationListeners(portalElement, eventNames) {\n  eventNames === null || eventNames === void 0 ? void 0 : eventNames.forEach(event => portalElement.addEventListener(event, handleStopProgation));\n}\nfunction removeStopPropagationListeners(portalElement, events) {\n  events === null || events === void 0 ? void 0 : events.forEach(event => portalElement.removeEventListener(event, handleStopProgation));\n}\nfunction handleStopProgation(e) {\n  e.stopPropagation();\n}","map":{"version":3,"names":["useCallback","useContext","useEffect","useState","createPortal","Classes","DISPLAYNAME_PREFIX","PortalContext","Portal","className","stopPropagationEvents","container","onChildrenMount","children","context","portalContainer","_a","document","body","undefined","portalElement","setPortalElement","createPortalElement","newPortalElement","createElement","classList","add","PORTAL","maybeAddClass","portalClassName","addStopPropagationListeners","appendChild","removeStopPropagationListeners","remove","maybeRemoveClass","displayName","split","eventNames","forEach","event","addEventListener","handleStopProgation","events","removeEventListener","e","stopPropagation"],"sources":["/Users/husseingalal/Desktop/Hackathon/Elrond/frontend/node_modules/@blueprintjs/core/src/components/portal/portal.tsx"],"sourcesContent":["/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport { Classes, DISPLAYNAME_PREFIX, type Props } from \"../../common\";\nimport { PortalContext } from \"../../context/portal/portalProvider\";\n\nexport interface PortalProps extends Props {\n    /** Contents to send through the portal. */\n    children: React.ReactNode;\n\n    /**\n     * Callback invoked when the children of this `Portal` have been added to the DOM.\n     */\n    onChildrenMount?: () => void;\n\n    /**\n     * The HTML element that children will be mounted to.\n     *\n     * @default PortalProvider#portalContainer ?? document.body\n     */\n    container?: HTMLElement;\n\n    /**\n     * A list of DOM events which should be stopped from propagating through this portal element.\n     *\n     * @deprecated this prop's implementation no longer works in React v17+\n     * @see https://legacy.reactjs.org/docs/portals.html#event-bubbling-through-portals\n     * @see https://github.com/palantir/blueprint/issues/6124\n     * @see https://github.com/palantir/blueprint/issues/6580\n     */\n    stopPropagationEvents?: Array<keyof HTMLElementEventMap>;\n}\n\n/**\n * Portal component.\n *\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n *\n * @see https://blueprintjs.com/docs/#core/components/portal\n */\nexport function Portal(\n    // eslint-disable-next-line @typescript-eslint/no-deprecated\n    { className, stopPropagationEvents, container, onChildrenMount, children }: PortalProps,\n) {\n    const context = useContext(PortalContext);\n\n    const portalContainer =\n        container ?? context.portalContainer ?? (typeof document !== \"undefined\" ? document.body : undefined);\n\n    const [portalElement, setPortalElement] = useState<HTMLElement>();\n\n    const createPortalElement = useCallback(() => {\n        const newPortalElement = document.createElement(\"div\");\n        newPortalElement.classList.add(Classes.PORTAL);\n        maybeAddClass(newPortalElement.classList, className); // directly added to this portal element\n        maybeAddClass(newPortalElement.classList, context.portalClassName); // added via PortalProvider context\n        addStopPropagationListeners(newPortalElement, stopPropagationEvents);\n\n        return newPortalElement;\n    }, [className, context.portalClassName, stopPropagationEvents]);\n\n    // create the container element & attach it to the DOM\n    useEffect(() => {\n        if (portalContainer == null) {\n            return;\n        }\n        const newPortalElement = createPortalElement();\n        portalContainer.appendChild(newPortalElement);\n        setPortalElement(newPortalElement);\n\n        return () => {\n            removeStopPropagationListeners(newPortalElement, stopPropagationEvents);\n            newPortalElement.remove();\n            setPortalElement(undefined);\n        };\n    }, [portalContainer, createPortalElement, stopPropagationEvents]);\n\n    // wait until next successful render to invoke onChildrenMount callback\n    useEffect(() => {\n        if (portalElement != null) {\n            onChildrenMount?.();\n        }\n    }, [portalElement, onChildrenMount]);\n\n    useEffect(() => {\n        if (portalElement != null) {\n            maybeAddClass(portalElement.classList, className);\n            return () => maybeRemoveClass(portalElement.classList, className);\n        }\n        return undefined;\n    }, [className, portalElement]);\n\n    useEffect(() => {\n        if (portalElement != null) {\n            addStopPropagationListeners(portalElement, stopPropagationEvents);\n            return () => removeStopPropagationListeners(portalElement, stopPropagationEvents);\n        }\n        return undefined;\n    }, [portalElement, stopPropagationEvents]);\n\n    // Only render `children` once this component has mounted in a browser environment, so they are\n    // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n    // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n    if (typeof document === \"undefined\" || portalElement == null) {\n        return null;\n    } else {\n        return createPortal(children, portalElement);\n    }\n}\n\nPortal.displayName = `${DISPLAYNAME_PREFIX}.Portal`;\n\nfunction maybeRemoveClass(classList: DOMTokenList, className?: string) {\n    if (className != null && className !== \"\") {\n        classList.remove(...className.split(\" \"));\n    }\n}\n\nfunction maybeAddClass(classList: DOMTokenList, className?: string) {\n    if (className != null && className !== \"\") {\n        classList.add(...className.split(\" \"));\n    }\n}\n\nfunction addStopPropagationListeners(portalElement: HTMLElement, eventNames?: Array<keyof HTMLElementEventMap>) {\n    eventNames?.forEach(event => portalElement.addEventListener(event, handleStopProgation));\n}\n\nfunction removeStopPropagationListeners(portalElement: HTMLElement, events?: Array<keyof HTMLElementEventMap>) {\n    events?.forEach(event => portalElement.removeEventListener(event, handleStopProgation));\n}\n\nfunction handleStopProgation(e: Event) {\n    e.stopPropagation();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}